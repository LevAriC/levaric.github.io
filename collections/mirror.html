<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mirror System® — Omer Zimmerman Studio</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles/main.css">
</head>
<body>
    <!-- Floating Home Button -->
    <a href="../lighting.html" class="floating-home" title="Back to Collections">
        <img src="../Assets/Logo/oz-logo-png.png" alt="Omer Zimmermann Logo" class="floating-logo">
        <span class="home-tooltip">Collections</span>
    </a>

    <!-- Text-only Back Link -->
    <a class="back-link" href="#" aria-label="Go back">Back</a>

    <!-- Mirror System Section -->
    <section class="mirror-section">
        <div class="mirror-intro">
            <h2 class="mirror-title">Mirror System®</h2>
            <p class="mirror-text">A mirror with built-in light.<br>
            Pick the shape, pick the size.<br>
            Glows like nothing else.</p>
        </div>

        <div class="mirror-grid">
            <div class="mirror-specs">
                <dl class="mirror-details">
                    <dt>MODEL</dt>
                    <dd>Mirror System [Custom]</dd>
                    <dt>TYPE</dt>
                    <dd>Illuminated wall-mounted mirror</dd>
                    <dt>LIGHT SOURCE</dt>
                    <dd>Integrated LED</dd>
                    <dt>MATERIALS</dt>
                    <dd>Glass + Wood or Aluminum frame</dd>
                    <dt>OPTIONS</dt>
                    <dd>Round / Oval / Rectangular</dd>
                    <dt>DIMENSIONS</dt>
                    <dd>Custom</dd>
                </dl>
            </div>

            <div class="mirror-gallery">
                <div class="mirror-item">
                    <img src="../Assets/Lighting/MiRROR/1.jpg" alt="Mirror System - Hotel Installation" loading="lazy">
                    <span class="mirror-caption">Hotel Installation</span>
                </div>
                <div class="mirror-item">
                    <img src="../Assets/Lighting/MiRROR/2.jpg" alt="Mirror System - Restaurant" loading="lazy">
                    <span class="mirror-caption">Restaurant</span>
                </div>
                <div class="mirror-item">
                    <img src="../Assets/Lighting/MiRROR/3.jpg" alt="Mirror System - Entryway" loading="lazy">
                    <span class="mirror-caption">Entryway</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <p class="studio-info">Omer Zimmerman Studio<br>
            Handmade in Tel Aviv since 2017</p>
            <div class="footer-links">
                <a href="https://www.instagram.com/omerzimmermann/" target="_blank" rel="noopener">Instagram</a>
                <span class="separator">·</span>
                <a href="mailto:contact@omerzimmerman.com">Email</a>
                <span class="separator">·</span>
                <a href="#contact">Contact</a>
            </div>
        </div>
    </footer>

    <script>
    // Deterministic back link behavior
    (function(){
        const link = document.querySelector('.back-link');
        if(!link) return;

        const RIBS_COLLECTION_URL = 'https://omerzimer.com/collections/ribs.html';
        const HOME_PATH = '/';

        // Normalize current path
        const path = location.pathname.replace(/\/index\.html$/i, '').toLowerCase();

        // Detect pages
        const isHome =
            document.body.classList.contains('page-home') ||
            document.body.classList.contains('home') ||
            path === '/' ;

        // Consider these as "RIBS collection" pages (local or deployed)
        const isRibsCollection =
            path === '/ribs' || path === '/ribs/' ||
            path.endsWith('/collections/ribs.html');

        // Any deeper RIBS subpage (pendant/wall/strip), in either style of routing:
        const isRibsSubpage =
            /^\/ribs\/(pendant|wall|strip)(\/|\.html|$)/i.test(path) ||
            /\/collections\/ribs\/(pendant|wall|strip)(\/|\.html|$)/i.test(path) ||
            /\/ribs-(pendant|wall|strip)\.html$/i.test(path);

        function parentPath(p){
            const parent = p.replace(/\/[^\/]+\/?$/, '') || '/';
            return parent;
        }

        // Compute deterministic target (no history.back)
        function computeTarget(){
            if (isHome) return null;                              // no Back on Home
            if (isRibsSubpage) return RIBS_COLLECTION_URL;        // RIBS subpages -> your URL
            if (isRibsCollection) return HOME_PATH;               // RIBS collection -> Home
            return parentPath(path);                              // generic fallback
        }

        const target = computeTarget();

        if (!target || (target === path)) {
            link.remove(); // nothing meaningful to do
            return;
        }

        // Update href so it still works if JS is slow/blocked
        link.setAttribute('href', target);

        // Click -> navigate to target
        link.addEventListener('click', function(ev){
            ev.preventDefault();
            window.location.assign(target);
        });
    })();
    </script>
</body>
</html>
